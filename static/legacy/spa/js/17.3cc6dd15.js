(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{aa93:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"q-pa-lg"},[n("q-table",{attrs:{data:t.filterdPosts,loading:t.loading,columns:t.columns,"row-key":"id",filter:t.filter,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(){return[n("span",{staticClass:"text-h3"},[t._v("Записи")]),n("q-toggle",{attrs:{label:"Только требующие модерации"},model:{value:t.only_unchecked,callback:function(e){t.only_unchecked=e},expression:"only_unchecked"}}),n("q-space"),n("q-input",{attrs:{dense:"",color:"primary"},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("q-btn-group",[n("q-btn",{attrs:{icon:"link",color:"positive",to:"/post/"+t.row.id}}),n("q-btn",{attrs:{icon:"edit",color:"primary",to:"/moderator/posts/"+t.row.id}})],1)],1)]}},{key:"body-cell-status",fn:function(e){return[n("q-td",{attrs:{props:e}},[0==e.row.status?n("q-chip",{attrs:{color:"warning",icon:"close"}},[t._v("\n                    Не проверен\n                ")]):1==e.row.status?n("q-chip",{attrs:{color:"positive","text-color":"white",icon:"check"}},[t._v("\n                    Опубликован\n                ")]):-1==e.row.status?n("q-chip",{attrs:{color:"negative","text-color":"white",icon:"delete"}},[t._v("\n                    Отклонён\n                ")]):t._e()],1)]}}])})],1)},o=[],r=n("967e"),i=n.n(r),s=(n("96cf"),n("fa84")),c=n.n(s),l=n("bd4c"),u={name:"Posts",data:function(){return{only_unchecked:!1,loading:!1,posts:[],filter:"",pagination:{page:1,rowsPerPage:0}}},methods:{update:function(){var t=this;return c()(i.a.mark((function e(){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("moderator/posts");case 3:n=e.sent,t.posts=n.data.data,t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}},computed:{columns:function(){return[{name:"created_at",label:"Дата",field:"created_at",align:"left",format:function(t){return l["b"].formatDate(t,"DD.MM.YYYY hh:mm")}},{name:"title",label:"Заголовок",field:"title",align:"left"},{name:"category",label:"Категория",field:function(t){return t.category.title},align:"left"},{name:"status",label:"Статус",field:"status"},{name:"actions",label:"Действия"}]},filterdPosts:function(){return this.only_unchecked?this.posts.filter((function(t){return!t.status})):this.posts}},mounted:function(){this.update()}},p=u,d=n("2877"),f=n("9989"),g=n("eaac"),h=n("9564"),m=n("2c91"),b=n("27f9"),w=n("0016"),y=n("db86"),k=n("e7a9"),_=n("9c40"),q=n("b047"),v=n("eebe"),x=n.n(v),Q=Object(d["a"])(p,a,o,!1,null,null,null);e["default"]=Q.exports;x()(Q,"components",{QPage:f["a"],QTable:g["a"],QToggle:h["a"],QSpace:m["a"],QInput:b["a"],QIcon:w["a"],QTd:y["a"],QBtnGroup:k["a"],QBtn:_["a"],QChip:q["a"]})}}]);