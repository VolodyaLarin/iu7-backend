(function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],l=0,f=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={2:0},o={2:0},c=[];function u(e){return i.p+"js/"+({1:"chunk-common"}[e]||e)+"."+{1:"9661ca32",3:"048d57a7",4:"4e10e970",5:"a086102e",6:"769e0244",7:"681ff2cf",8:"5658adce",9:"84263fbf",10:"86f5599f",11:"09a3c515",12:"5fb78372",13:"cc3cbcda",14:"26c0ce90",15:"71744f8f",16:"73957c8f",17:"3cc6dd15",18:"2bcbd167",19:"1af9f019",20:"12576f24",21:"1ee7ed36",22:"4e50e6c3"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={1:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({1:"chunk-common"}[e]||e)+"."+{1:"91e7ed87",3:"38a66c1f",4:"1896fb75",5:"ef1a813e",6:"8749ff56",7:"cb75cfec",8:"16e2f8a4",9:"cb5ba069",10:"9e33aa1a",11:"31d6cfe0",12:"31d6cfe0",13:"31d6cfe0",14:"31d6cfe0",15:"31d6cfe0",16:"31d6cfe0",17:"31d6cfe0",18:"31d6cfe0",19:"31d6cfe0",20:"31d6cfe0",21:"31d6cfe0",22:"31d6cfe0"}[e]+".css",o=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],d.parentNode.removeChild(d),n(c)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var f=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var d=l;c.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"isModerator",(function(){return q})),n.d(r,"isLeader",(function(){return N}));var a={};n.r(a),n.d(a,"update",(function(){return M}));var o={};n.r(o),n.d(o,"update",(function(){return D})),n.d(o,"setNotificationToken",(function(){return V}));var c={};n.r(c),n.d(c,"isActive",(function(){return F}));var u={};n.r(u),n.d(u,"update",(function(){return H}));var i={};n.r(i),n.d(i,"update",(function(){return K}));var s=n("967e"),l=n.n(s),f=(n("a481"),n("96cf"),n("fa84")),d=n.n(f),p=(n("7d6e"),n("e54f"),n("44391"),n("4605"),n("f580"),n("5b2b"),n("8753"),n("2967"),n("7e67"),n("d770"),n("dd82"),n("922cc"),n("d7fb"),n("a533"),n("c32e"),n("a151"),n("8bc7"),n("e80f"),n("5fec"),n("e42f"),n("57fc"),n("d67f"),n("880e"),n("1c10"),n("9482"),n("e797"),n("4848"),n("53d0"),n("63b1"),n("e9fd"),n("195c"),n("64e9"),n("33c5"),n("4f62"),n("0dbc"),n("7c38"),n("0756"),n("4953"),n("81db"),n("2e52"),n("22485"),n("7797"),n("12a1"),n("ce96"),n("70ca"),n("2318"),n("24bd"),n("8f27"),n("3064"),n("c9a2"),n("8767"),n("4a8e"),n("b828"),n("3c1c"),n("21cb"),n("c00e"),n("e4a8"),n("e4d3"),n("f4d9"),n("fffd"),n("f645"),n("639e"),n("34ee"),n("b794"),n("af24"),n("7c9c"),n("7bb2"),n("64f7"),n("c382"),n("053c"),n("c48f"),n("f5d1"),n("3cec"),n("c00ee"),n("d450"),n("ca07"),n("14e3"),n("9393"),n("9227"),n("1dba"),n("674a"),n("de26"),n("6721"),n("9cb5"),n("ed9b"),n("fc83"),n("98e5"),n("605a"),n("ba60"),n("df07"),n("7903"),n("e046"),n("58af"),n("7713"),n("0571"),n("3e27"),n("6837"),n("3fc9"),n("0693"),n("bf41"),n("985d"),n("0047"),n("2b0e")),h=n("14c0"),m=n("42d2"),b=n("b05d"),v=n("18d6"),g=n("436b"),y=n("2a19"),w=n("f508");p["a"].use(b["a"],{config:{},lang:h["a"],iconSet:m["a"],plugins:{LocalStorage:v["a"],Dialog:g["a"],Notify:y["a"],Loading:w["a"]}});var k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},x=[],P=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("ac6a"),n("cadf"),n("06db"),n("866c")),S=n.n(P);function _(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw o}}}}function j(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}p["a"].use(S.a);var A={name:"App",data:function(){return{version:"202106170000"}},methods:{loadUpdates:function(){var e=this;return d()(l.a.mark((function t(){var n;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("localhost"!==location.hostname){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$axios("/actual_version?timestamp="+(new Date).getTime());case 4:if(n=t.sent,n.data.version==e.version){t.next=8;break}return t.next=8,e.clearCache();case 8:case"end":return t.stop()}}),t)})))()},clearCache:function(){var e=this;return d()(l.a.mark((function t(){var n;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Сейчас установлена ".concat(e.version,". ")),e.$q.loading.show({message:"Установка обновления..."}),t.next=4,caches.keys();case 4:n=t.sent,n.forEach((function(e){caches.delete(e)})),navigator.serviceWorker.getRegistrations().then((function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.unregister()}}catch(a){n.e(a)}finally{n.f()}})),location.pathname="/clear-cache",setTimeout((function(){return location.reload()}),500);case 9:case"end":return t.stop()}}),t)})))()}},created:function(){this.loadUpdates()}},T=A,E=n("2877"),C=Object(E["a"])(T,k,x,!1,null,null,null),I=C.exports,L=n("2f62"),$=function(){return{loaded:!1,auth:!1,data:{}}};function q(e){return!!e.auth&&e.data.role=="leader"}function N(e){return!!e.auth&&e.data.role=="leader"}function M(e,t){for(var n in t)e[n]=t[n]}var B=n("758b");function D(e){return U.apply(this,arguments)}function U(){return U=d()(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["a"].instance.get("/cas/me").catch((function(){t.commit("update",{loaded:!0})}));case 2:n=e.sent,n.data&&(r={},r.loaded=!0,r.auth=!0,r.data=n.data,t.commit("update",r));case 4:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function V(e,t){return J.apply(this,arguments)}function J(){return J=d()(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["a"].instance.post("/user/setNotificationToken",{token:n});case 2:r=e.sent,r.data&&(a={use_notifications:!0},t.commit("update",a));case 4:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}var R={namespaced:!0,state:$,getters:r,mutations:a,actions:o},z=function(){return{loaded:!1,data:[]}};function F(e){return!!e.loaded&&e.data.length>0}function H(e,t){for(var n in t)e[n]=t[n]}function K(e){return Q.apply(this,arguments)}function Q(){return Q=d()(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["a"].instance.get("/event/filter?q={}").catch((function(){t.commit("update",{loaded:!0})}));case 2:n=e.sent,n.data&&(r={},r.loaded=!0,r.data=n.data.data,t.commit("update",r));case 4:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}var W={namespaced:!0,state:z,getters:c,mutations:u,actions:i};p["a"].use(L["a"]);var G=function(){var e=new L["a"].Store({modules:{user:R,events:W},strict:!1});return e},X=n("8c4f"),Y=[{path:"/",component:function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,"a9c3"))},children:[{path:"",component:function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"8b24"))}},{path:"/login",component:function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,"b2c5"))}},{path:"/savetoken",beforeEnter:function(e,t,n){if(e.query.api_token){var r=e.query.api_token;return localStorage.setItem("api_token",r),B["a"].setToken(r),n("/")}n("/login")}},{path:"/logout",beforeEnter:function(e,t,n){localStorage.setItem("api_token",""),B["a"].setToken(""),n("/"),location.reload()}},{name:"cloud",path:"/cloud",component:function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,"936a"))}},{name:"publish",path:"/cloud/post/publish",component:function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,"4179"))}},{name:"profile",path:"/profile",component:function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,"2ff9"))}},{name:"group.students",path:"/group/students",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"6ce6"))}},{name:"post",path:"/cloud/post/:post",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"2fde"))}},{name:"moderator",path:"/moderator",component:function(){return Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"956a"))}},{name:"moderator.posts",path:"/moderator/posts",component:function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"aa93"))}},{name:"moderator.post.edit",path:"/moderator/posts/:post",component:function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"2b1d"))}},{name:"moderator.categories",path:"/moderator/categories",component:function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"72d9"))}},{path:"/group",redirect:{name:"group"}},{name:"group.panel",path:"/group/panel",component:function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,"bf25"))}},{name:"group",path:"/group/timetable",component:function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,"ab04"))}},{name:"group.exams",path:"/group/exams",component:function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,"9ccd"))}},{name:"group.table",path:"/group/table/",component:function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,"6a1b"))}},{name:"group.records",path:"/group/records/",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"73f8"))}},{name:"pool.answer",path:"/pools/answer/:pool",component:function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,"23d4"))}},{name:"pool.results",path:"/pools/results/:pool",component:function(){return Promise.all([n.e(0),n.e(1),n.e(19)]).then(n.bind(null,"c865"))}},{path:"/public/*",redirect:"/"}]}];Y.push({path:"*",component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"e51e"))}});var Z=Y;p["a"].use(X["a"]);var ee=function(){var e=new X["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:Z,mode:"hash",base:""});return e},te=function(){return ne.apply(this,arguments)};function ne(){return ne=d()(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof G){e.next=6;break}return e.next=3,G({Vue:p["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=G;case 7:if(t=e.t0,"function"!==typeof ee){e.next=14;break}return e.next=11,ee({Vue:p["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=ee;case 15:return n=e.t1,t.$router=n,r={router:n,store:t,render:function(e){return e(I)}},r.el="#q-app",e.abrupt("return",{app:r,store:t,router:n});case 20:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}var re=n("9483");Object(re["a"])("service-worker.js",{registrationOptions:{scope:"./"},ready:function(e){0},registered:function(){0},cached:function(){0},updatefound:function(){0},updated:function(){0},offline:function(){0},error:function(e){0}}),p["a"].prototype.$store=G();var ae=p["a"].prototype.$store;p["a"].prototype.$user={update:function(){ae.dispatch("user/update")}};var oe=n("218b"),ce=new oe["a"]({instanceId:"fc4fa56a-8e44-4ae5-b9e7-d915eb66375f"});function ue(){return ie.apply(this,arguments)}function ie(){return ie=d()(l.a.mark((function e(){var t,n,r,a,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:t=e.sent,n=t.app,r=t.store,a=t.router,o=!0,c=function(e){o=!1,window.location.href=e},u=window.location.href.replace(window.location.origin,""),i=[B["a"],ae,void 0,void 0],s=0;case 11:if(!(!0===o&&s<i.length)){e.next=29;break}if("function"===typeof i[s]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,i[s]({app:n,router:a,store:r,Vue:p["a"],ssrContext:null,redirect:c,urlPath:u});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:s++,e.next=11;break;case 29:if(!1!==o){e.next=31;break}return e.abrupt("return");case 31:new p["a"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),ie.apply(this,arguments)}ce.start().then((function(){return ce.addDeviceInterest("hello")})).then((function(){return console.log("Successfully registered and subscribed!")})).catch(console.error),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&n.e(0).then(n.t.bind(null,"a0db",7)),ue()},"758b":function(e,t,n){"use strict";var r=n("2b0e"),a=n("bc3a"),o=n.n(a),c=o.a.create({baseURL:"http://localhost:9090/api/v1/"});function u(e){c.defaults.headers.common["Authorization"]="Bearer "+e}r["a"].prototype.$axios=c,localStorage.getItem("api_token")&&u(localStorage.getItem("api_token")),t["a"]={setToken:u,instance:c}}});